<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title th:if="${interest.id == null}" th:text="'Rate-It: New Interest'"></title>
    <title th:unless="${interest.id == null}" th:text="'Rate-It: Edit ' + ${interest.name}"></title>
</head>
<body>

<form th:object="${interest}" th:data-interest-id="*{id}" name="myForm" th:action="${action}" th:method="${method}">
    <h3>Name</h3>
    <label>
        <input type="text" name="name" th:value="*{name}" required>
    </label>
    <br>

    <h3>Category</h3>
    <p>sport food whatever placeholder</p>
    <br>

    <h3>Visibility</h3>
    <label>
        <input type=”checkbox” id=”toggle” class=”toggleCheckbox” />
        <label for=”toggle” class=’toggleContainer’>
            <div>Public</div>
            <div>Private</div>
        </label>
<!--        <input type="checkbox" th:field="*{exclusive}">-->
    </label>
    <br>

    <h3>Criteria</h3>
    <div id="criteriaContainer" class="criteria-container">
        <div>
            <input th:if="*{id == null}" type="text" name="criteriaNames" required/>
        </div>
        <th:block th:if="*{id != null}">
            <div>
                <input type="text" name="criteriaNames" th:value="${interest.criteria[0]?.name}" required/>
            </div>

            <div th:each="criterion, iterStat : ${interest.criteria}" th:if="${iterStat.index > 0}">
                <div>
                    <input type="text" name="criteriaNames" th:value="${criterion.name}" required/>
                    <button type="button" onclick="removeCriteria(this, ${iterStat.index})">Remove</button>
                </div>
            </div>
        </th:block>
    </div>

    <button type="button" onclick="addCriteria()">Add criteria</button>

    <br>

    <h3>Description</h3>
    <label>
        <textarea name="description" th:field="*{description}"></textarea>
    </label>
    <br>

    <button type="submit">Save</button>
</form>

<script th:inline="javascript" src="/scripts/interestForm.js"></script>

</body>
</html>