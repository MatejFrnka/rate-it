<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:fragment="head (title)">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${title} + ' | RateSpot'"></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" type="text/css" th:href="@{/styles/index.css}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Andika:wght@400;700&family=Montserrat:wght@200;400;600&family=Righteous&family=Ubuntu:wght@400;500;700&display=swap"
          rel="stylesheet">
</head>

<div th:fragment="hamburger-menu" class="header-left col-2">
    <div id="top-hamburger"> <!-- UNCOMMENT IF HAMBURGER IS DESIRED-->
        <!--                <img th:src="@{/icons/hamburger.svg}" alt="Menu">-->
    </div>
</div>

<div th:fragment="logo" class="header-top col-8">
    <a th:href="@{/}">RateSpot</a>
</div>

<div th:fragment="login-menu" class="header-right col-2">
    <div class="topbar-menu dropdown">
        <img role="button" class="dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"
             th:src="@{/icons/user.svg}" alt="User Profile">
        <ul class="dropdown-menu">
            <li th:if="${loggedUser}" class="dropdown-header" th:text="${loggedUser.getUsername()}"></li>
            <li th:unless="${loggedUser}" class="dropdown-header" th:text="'Anonymous user'"></li>
            <li>
                <hr class="dropdown-divider">
            </li>
            <li th:if="${loggedUser}"><a class="dropdown-item" th:href="@{/users/logout}">Logout</a></li>
            <li th:unless="${loggedUser}"><a class="dropdown-item" th:href="@{/users/login}">Login</a></li>
        </ul>
    </div>
</div>

<div th:fragment="interest-admin-menu" class="header-right col-2">
    <div class="topbar-menu dropdown">
        <img role="button" class="dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"
             th:src="@{/icons/pencil.svg}" alt="Options">
        <div class="dropdown-menu">
            <a class="dropdown-item"
               th:href="@{/interests/{id}/admin/edit(id=${interest.id})}">Edit Interest</a>
            <hr class="dropdown-divider">
            <a class="dropdown-item"
               th:href="@{/interests/{id}/admin/users(id=*{id})}">Manage Users</a>
            <hr class="dropdown-divider">
            <a class="dropdown-item"
               th:href="@{/users/logout}">Logout</a>
        </div>
    </div>
</div>

<div th:fragment="place-admin-menu" class="header-right col-2">
    <div class="topbar-menu dropdown">
        <img role="button" class="dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"
             th:src="@{/icons/pencil.svg}" alt="Options">
        <div class="dropdown-menu">
            <a class="dropdown-item"
               th:href="@{/interests/{intId}/places/{placeId}/edit(intId=${place.interest.id}, placeId=${place.id})}">
                Edit Place</a>
            <hr class="dropdown-divider">
            <a class="dropdown-item"
               th:href="@{/users/logout}">Logout</a>
        </div>
    </div>
</div>

<div th:fragment="like-button" class="header-right col-2">
    <div class="topbar-menu">
        <form th:action="@{/interests/{id}/like(id=*{id})}" th:method="post">
            <button th:if="${liked}" class="like-button" type="submit" name="like" value="0">
                <img th:src="@{/icons/heart-solid.svg}" alt="Dislike">
            </button>
            <button th:unless="${liked}" class="like-button" type="submit" name="like" value="1">
                <img th:src="@{/icons/heart-outline.svg}" alt="Like">
            </button>
        </form>
    </div>
</div>

<script th:fragment="topbar-script" src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

</html>