<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search with Suggestions</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" th:href="@{styles/index.css}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Andika:wght@400;700&family=Montserrat:wght@200;400;600&family=Righteous&family=Ubuntu:wght@400;500;700&display=swap"
          rel="stylesheet">
</head>


<body>
<div class="container-fluid">
    <div class="header">
        <div class="header-left col-2">
            <div id="top-hamburger"> <!-- UNCOMMENT IF HAMBURGER IS DESIRED-->
                <!--                <img th:src="@{/icons/hamburger.svg}" alt="Menu">-->
            </div>

        </div>
        <div class="header-top col-8">
            <a th:href="@{/static}">RateSpot</a>
        </div>
        <div class="header-right col-2">
            <div id="user-button" class="dropdown">
                <img role="button" class="dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"
                     th:src="@{/icons/user.svg}" alt="User Profile">

                <ul class="dropdown-menu">
                    <li th:if="${loggedUser}" class="dropdown-header" th:text="${loggedUser.getUsername()}"></li>
                    <li th:unless="${loggedUser}" class="dropdown-header" th:text="'Anonymous user'"></li>
                    <li><hr class="dropdown-divider"></li>
                    <li th:if="${loggedUser}"><a class="dropdown-item" th:href="@{/users/logout}">Logout</a></li>
                    <li th:unless="${loggedUser}"><a class="dropdown-item" th:href="@{/users/login}">Login</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="content">
        <section id="usersInterests" class="interests">
            <div th:unless="${likedInterests == null || likedInterests.isEmpty()}">
                <div class="section-label">
                    <p class="section-label-text">My Interests</p>
                    <p id="see-all">See all</p>
                </div>
                <div class="interest-cards">
                    <div th:each="interest : ${likedInterests}" id="likedInterests" class="interest-card">
                        <a class="interest-card-link" th:href="@{|/interests/${interest.id}|}">
                            <div>
                                <div class="img-wrapper">

                                    <!--IMAGE GOES HERE - REPLACE BACKGROUND COLOR WITH ACTUAL IMAGE-->

                                </div>
                                <div class="interest-title">
                                    <p class="interest-name"
                                       th:text="${interest.name} + ' ' + '(' + ${interest.countLikes()} + ')'"></p>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            <div th:if="${likedInterests == null}">
                <div class="section-label">
                    <p class="section-label-text"><a th:href="@{/users/login}">Log-in</a> to see your interests</p>
                </div>
            </div>
            <div th:if="${likedInterests != null && likedInterests.isEmpty()}" id="noLikedInterests">
                <div class="section-label">
                    <p class="section-label-text">No interests yet. Add your FIRST!</p>
                </div>
            </div>
        </section>

        <!-- I WOULD ADD THIS INTO USER MENU TO MAKE THE MAIN PAGE CLEANER -->
        <!--        <a th:href="@{/interests/create}">Create new interest</a>-->

        <section class="discover">
            <div class="section-label">
                <div class="section-label-text">
                    <p>Discover new</p>
                </div>
            </div>

            <div class="filters">
                <button id="location-button" class="filter-button">Location</button>
                <button class="filter-button">Drink</button>
                <button class="filter-button">Food</button>
                <button class="filter-button">Outdoor</button>
            </div>

            <form method="get" th:href="@{/interests/}">
                <div class="search-container">
                    <input type="text" id="search" name="query" oninput="getSuggestions(this.value)" autocomplete="off"
                           placeholder="Find interestsâ€¦">
                    <svg class="search-icon" width="18" height="18" viewBox="0 0 18 18" fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <mask id="mask0" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="17"
                              height="17">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                  d="M0.666687 0.666626H16.8974V16.8975H0.666687V0.666626Z" fill="white"/>
                        </mask>
                        <g mask="url(#mask0)">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                  d="M8.78234 1.91663C4.9965 1.91663 1.9165 4.99579 1.9165 8.78163C1.9165 12.5675 4.9965 15.6475 8.78234 15.6475C12.5673 15.6475 15.6473 12.5675 15.6473 8.78163C15.6473 4.99579 12.5673 1.91663 8.78234 1.91663ZM8.78234 16.8975C4.30734 16.8975 0.666504 13.2566 0.666504 8.78163C0.666504 4.30663 4.30734 0.666626 8.78234 0.666626C13.2573 0.666626 16.8973 4.30663 16.8973 8.78163C16.8973 13.2566 13.2573 16.8975 8.78234 16.8975Z"
                                  fill="#B8B8B8"/>
                        </g>
                        <mask id="mask1" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="13" y="13" width="5"
                              height="5">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                  d="M13.3666 13.7557H17.5533V17.9347H13.3666V13.7557Z" fill="white"/>
                        </mask>
                        <g mask="url(#mask1)">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                  d="M16.9285 17.9347C16.7693 17.9347 16.6093 17.8739 16.4868 17.7522L13.5502 14.8239C13.306 14.5797 13.3052 14.1839 13.5493 13.9397C13.7927 13.6939 14.1885 13.6955 14.4335 13.938L17.3702 16.8672C17.6143 17.1114 17.6152 17.5064 17.371 17.7505C17.2493 17.8739 17.0885 17.9347 16.9285 17.9347Z"
                                  fill="#B8B8B8"/>
                        </g>
                    </svg>
                </div>
            </form>
        </section>

        <div id="suggestions">
            <div class="interest-cards" id="suggestionList"></div>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"></script>
    <script src="/scripts/index.js"></script>
</div>

</body>


</html>